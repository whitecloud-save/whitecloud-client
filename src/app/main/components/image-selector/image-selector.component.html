<nz-segmented [nzOptions]="sourceOptions" [(ngModel)]="source" style="margin-bottom: 10px;"></nz-segmented>

@if(source === 0) {
  <div class="local-image-selector" (click)="openImageSelectDialog()">
    @if(!value) {
      <p class="selector-hint">
        <fa-icon style="font-size: 45px; opacity: 0.6;" [icon]="iconService.light.faImage"></fa-icon>
      </p>
    } @else {
      <div class="local-image-container" [ngStyle]="{'background-image': 'url(' + value + ')'}"></div>
    }
  </div>
}

@if (source === 1) {
  <nz-input-group [nzSuffix]="suffixIconSearch" style="margin-bottom: 10px;">
    <input type="text" nz-input placeholder="搜索关键字" [(ngModel)]="searchKeyWord" (keyup.enter)="searchBaidu()"/>
  </nz-input-group>
  <ng-template #suffixIconSearch>
    <span nz-icon nzType="search"></span>
  </ng-template>

  <div nz-row [nzGutter]="16">
    @for(img of baiduResults.slice((searchPageIndex - 1) * 3, searchPageIndex * 3); track img) {
      <div nz-col [nzSpan]="8" style="display: flex; position: relative; justify-content: center; margin-bottom: 10px;" (click)="selectSearchImage(img)">
        <div class="image-container" [ngStyle]="{'background-image': 'url(' + img + ')'}">
          <div class="image-mask" [ngClass]="{selected: img === value}">
            @if(img === value) {
              <fa-icon [icon]="iconService.solid.faCheck"></fa-icon>
            }
          </div>
        </div>
      </div>
    }
  </div>

  <div nz-flex nzJustify="flex-end">
    <nz-pagination [nzPageIndex]="searchPageIndex" (nzPageIndexChange)="searchPageIndex = $event" [nzTotal]="baiduResults.length" [nzPageSize]="3" nzSimple></nz-pagination>
  </div>
}
